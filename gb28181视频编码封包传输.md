**GB28181视频封包及传输**  
* **编码**  
   * H.264 Baseline  
   * P slice参考帧数不大于2帧  
   * 每个I slice前带sps和pps  
* **封包**   
   * 每个ps封包智能包含一帧视频数帧
   * 每个封装I帧的ps包在ps包头之后和第一个pes包之前都应该包含系统头(PS System Header)和PSM(Program Stream Map)   
   * **系统头中流ID**描述ps封包中**码流种类**， 视频 0xE0， 音频 0xC0   
   * **PSM流类型**描述**视音频格式**，MPEG-4 0x10，H264 0x1B，SVAC 0x80   
   * 传输时，将一个ps包分割成多个RTP封包   
* **传输**  
   * **UDP**   
   传输不可靠，丢包将导致马赛克   
   * **RFC2326 TCP**   
   GB28181-2011未明确说明TCP传输标准 
   
   | 1字节 | 1字节 | 2字节 | 包长度个字节 |
   | ---- | ---- | ---- | ---- |
   | 0x24($) | 通道号 | 包长度 | 一个RTP/RTCP包 |   
   第3个字节长度高八位，第4个字节低八位   
   * **RFC4571 TCP**   
   GB28181-2016明确要求
   
   | 2字节 | 包长度个字节 |
   | ---- | ---- |
   | 包长度 | 一个RTP/RTCP包 |
   第1个字节高八位，第2个字节低八位
